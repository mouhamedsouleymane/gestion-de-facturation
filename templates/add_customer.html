{% extends "base.html" %}
{% load i18n %}

{% block content %}

<div class="row justify-content-center">
  <div class="col-lg-8">
    <!-- Header -->
    <div class="mb-4">
      <h1 class="h2 fw-bold mb-1">
        <i class="fas fa-user-plus me-2 text-primary"></i>
        {% if form.instance.pk %}
          {% trans 'Edit Customer' %}
        {% else %}
          {% trans 'Add New Customer' %}
        {% endif %}
      </h1>
      <p class="text-muted">{% trans 'Fill in the customer information below' %}</p>
    </div>

    <!-- Form Card -->
    <div class="card border-0 shadow-sm">
      <div class="card-body p-4">
        <form method="post" novalidate>
          {% csrf_token %}

          <!-- Name and Email Row -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="{{ form.name.id_for_label }}" class="form-label fw-500">
                {{ form.name.label }}
              </label>
              {{ form.name }}
              {% if form.name.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.name.errors|striptags }}
              </div>
              {% endif %}
            </div>
            <div class="col-md-6">
              <label for="{{ form.email.id_for_label }}" class="form-label fw-500">
                {{ form.email.label }}
              </label>
              {{ form.email }}
              {% if form.email.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.email.errors|striptags }}
              </div>
              {% endif %}
            </div>
          </div>

          <!-- Phone and Gender Row -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="{{ form.phone.id_for_label }}" class="form-label fw-500">
                {{ form.phone.label }}
              </label>
              {{ form.phone }}
              {% if form.phone.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.phone.errors|striptags }}
              </div>
              {% endif %}
            </div>
            <div class="col-md-6">
              <label for="{{ form.sex.id_for_label }}" class="form-label fw-500">
                {{ form.sex.label }}
              </label>
              {{ form.sex }}
              {% if form.sex.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.sex.errors|striptags }}
              </div>
              {% endif %}
            </div>
          </div>

          <!-- Age and Address Row -->
          <div class="row mb-3">
            <div class="col-md-3">
              <label for="{{ form.age.id_for_label }}" class="form-label fw-500">
                {{ form.age.label }}
              </label>
              {{ form.age }}
              {% if form.age.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.age.errors|striptags }}
              </div>
              {% endif %}
            </div>
            <div class="col-md-9">
              <label for="{{ form.address.id_for_label }}" class="form-label fw-500">
                {{ form.address.label }}
              </label>
              {{ form.address }}
              {% if form.address.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.address.errors|striptags }}
              </div>
              {% endif %}
            </div>
          </div>

          <!-- City and Zip Code Row -->
          <div class="row mb-4">
            <div class="col-md-6">
              <label for="{{ form.city.id_for_label }}" class="form-label fw-500">
                {{ form.city.label }}
              </label>
              {{ form.city }}
              {% if form.city.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.city.errors|striptags }}
              </div>
              {% endif %}
            </div>
            <div class="col-md-6">
              <label for="{{ form.zip_code.id_for_label }}" class="form-label fw-500">
                {{ form.zip_code.label }}
              </label>
              {{ form.zip_code }}
              {% if form.zip_code.errors %}
              <div class="invalid-feedback d-block">
                <i class="fas fa-exclamation-circle me-1"></i>{{ form.zip_code.errors|striptags }}
              </div>
              {% endif %}
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="d-flex gap-2 justify-content-between">
            <a href="{% url 'customer-list' %}" class="btn btn-outline-secondary">
              <i class="fas fa-arrow-left me-2"></i>{% trans 'Back' %}
            </a>
            <button type="submit" class="btn btn-primary btn-lg">
              <i class="fas fa-save me-2"></i>
              {% if form.instance.pk %}
                {% trans 'Update Customer' %}
              {% else %}
                {% trans 'Add Customer' %}
              {% endif %}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  .form-control, .form-select {
    border-radius: 0.5rem;
    border: 1px solid #e0e0e0;
    padding: 0.75rem 1rem;
    font-size: 0.95rem;
  }

  .form-control:focus, .form-select:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
  }

  .form-label {
    color: #333;
    margin-bottom: 0.5rem;
  }

  .invalid-feedback {
    color: #dc3545;
    font-size: 0.875rem;
    margin-top: 0.25rem;
  }
</style>

{% endblock %}
